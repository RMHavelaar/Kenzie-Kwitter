(this["webpackJsonpkwitter-frontend"]=this["webpackJsonpkwitter-frontend"]||[]).push([[0],{23:function(e,t,a){},26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABSlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////VIv6AAAAAbHRSTlMAATl/tNv13LeFQAJb1t9pBBS5yh8Y2OUjA8PSB2t44+kGRkuLjru82eTn8O9x1/30PTxj/mK/wWoS9hGWkxwbesbHKuCfKY0KEBNlbQtw68icUlj36C8wTO4MTbVKuOoswvgFo6yInjIt8i6yKUx/AAAAAWJLR0RtuwYArQAAAd9JREFUWMPtlldTwlAQRi+KGAsKimDDXkGNJRYsEQuIXSkKYo0F1P3/z8YucC+zezPj+OB5ghm+QxIu+y1jImwVlfYqB4CjWqmprWNUbPVO+EFDo4uWdzdBEc0eSr7FCyX4WvH5tnbg0NGJFviBSxc27+rmC3p6kYI+ENCPFAyIBINIwZBIMIwUeEWCEaRgVCTwIQUBkSDwL/g1gSsoEoy1oQTjIGQcJXCKBRMogSoWqKjhOikWOFBXoIgFCkowJbwHdRr3O85o/Lw2ix2Kc3zBPHoqL/AFfrQgtMj9CZbwzbLME6wQqk13cC5glVKO4VJBmNTOrrXi/Dqx33Vf0UDWqRvGxmbBgrFBXlFYKPJ1pNVIiMkQHfSah1qb2IoyaWIeT0wuGdouer9DFOz27P346v2Dw12i4Micwcdx3WYufHr82JzTR7R84uP5J1Op5MfLBCV/wqmG4Ck+n87w/o2ZNC59lj0XzcTz7Fm55MVlwOSqTC2YZ/Lq9TOXF5z49Q0QuLkuKUQDSBiFNXl7B2Tubr/znXaQwP61fNfdgxT3n1X7AJI8vOezmqxAezta7hRIk3KbghxYIMdYXrUiUPPl1gkMCgOL/AGBYS1vWH+Ij09W8k/PjD0q0ndhKM/sBbewTB0+alJMAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTExLTIxVDEwOjI5OjQzLTA1OjAw5oM88gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0xMS0yMVQxMDoyOTo0My0wNTowMJfehE4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},49:function(e,t,a){e.exports=a.p+"static/media/Kwitter_square.ffc472e0.png"},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TtSKVInYQcchQnSyIijhqFYpQIdQKrTqYvPRHaNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ik6OToouUeF9SaBHjg8f7OO+dw333AkK9zDSrYwzQdNtMJxNiNrcihl7RhQiAAfTJzDJmJSkF3/V1jwA/7+I8y//dn6tXzVsMCIjEM8wwbeJ14qlN2+C8TxxlJVklPiceNalA4keuKx6/cS66LPDMqJlJzxFHicViGyttzEqmRjxJHFM1nfKFrMcq5y3OWrnKmnXyH4bz+vIS12kPIYkFLEKCCAVVbKAMG3E6dVIspOk+4eMfdP0SuRRybYCRYx4VaJBdP/gMfvfWKkyMe0nhBND54jgfw0BoF2jUHOf72HEaJ0DwGbjSW/5KHZj+JL3W0mJHQGQbuLhuacoecLlDA38yZFN2pSBtoVAA3s9oTDmg/xboWfX61rzH6QOQoV6lboCDQ2CkSNlrPv/ubu/bv2+a/fsBBR9ye6JStlUAAAAGYktHRADoAOgA6OjH3DMAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfkBg8AHQxg+Db1AAADPUlEQVRIx7WWy2vcVRTHP+feOzOZV9vExCRYbGJsDNhEq6JBqnQbUKggnSLJQkjRhaAbN+JCF+o/oKikiLoQgxt1IdlYiwufmGiKUSq0GYOPGGdqSiaT+T3ucZFH0zSPCSUHfosf3MPnd77fc879CfVG4Qxp0UTV0ydCn4b6eUfWzhQDrwA6enrLVFcvQ1BTXYwHB480vtPb2cQXk7OMzSw8hpWPxRlAAN0011A/RZgNbj7x0G08M3iMl4f7ackm3sVzB4AU3t4ytX4IgBKrV8IworuzlVce7c5TDp9SZaWSG4GIwYmAV78qiPfKkcOthsvRYQK/bXp9EPWE1djRlbk7k06sKV+pBkpKKiTkBiFikMIIwKHhnsahnq42vFdEoPjXf560KYrZ2vSdu0sccvJNFDiYcy8+2NtOc1OeKIqx1nJ24o+QtP1yrTOWP2aXEI0ASAkdrSk7dPyBLrz3GBFmS1f4YLwUkRDVK2E/IvZqnkLCBMQ6Ts7Fbiv6+qgt+VeffKSD5sYcQRhjraFcrnDvrdns/qT96DoBBP5cCM0v80EJr8dFCiP7ULXoJpqKhOppI9Ifp18/kc3n0ujKORHBGdnGSsNn537mhdHzXzngV5LJA4hspIiNo2o0s1h84+nehgP7MkSxX6eIEsZbm20Vjt55kObk1P0OY9qluQWs3dC1SjRXSr9UaG8aeLjnGkA9EYQR30xMUw78p8vGuwQ4x3rJVBViGDjWzf58Zk2mumZXlof1t5nLXArjv83KuuA6T1ZejciuAKvNlUo5Tg30cU/WDe1ud+0ivFfK8xUCz79uLwAi8P1kkSfe+q5WDvyze1KJIGQakhxtSk0xXR3bE4i1BgUirxGtyYTbCy/Ofn2B596fCIuhf40GW3V11L6rMEZob8lTnA/H8HpOck7NTg7OlRaoVGt4r6hS12Ot4a6WhjzVOHl1CxsBY665Eozx+LTl+fd+uPT4fW2dt9yUwznDTiOjqkxeLNV++n3xw/7bM/98Ox8jcuqMksksQzZMlNRq+MXaMMWlKYwcQjW57e208ltD1l7s7cyMn6/ESyIgUhg5CTQDfhM3QuATYE4EQaRe83X1pI6e5n+odWw9euoKMgAAAABJRU5ErkJggg=="},57:function(e,t,a){e.exports=a(93)},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(6),o=a(46),u=a(47),i=a(55),l=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"primary",disabled:!0},n.a.createElement(u.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."))},A=a(1),p=a.n(A),d=a(3),m=a(2),f=a(15),h=a(16),E=a(48),g=a.n(E);function v(e){console.info("\n    Did you hit CORRECT the endpoint?\n    Did you send the CORRECT data?\n    Did you make the CORRECT kind of request [GET/POST/PATCH/DELETE]?\n    Check the Kwitter docs \ud83d\udc49\ud83c\udfff https://kwitter-api.herokuapp.com/docs/#/\n    Check the Axios docs \ud83d\udc49\ud83c\udfff https://github.com/axios/axios\n    TODO: troll students\n  ",e)}function b(){try{var e=JSON.parse(localStorage.getItem("persist:root"));return JSON.parse(e.auth).isAuthenticated}catch(t){return""}}var y=new(function(){function e(){Object(f.a)(this,e),this.axiosInstance=null;var t=g.a.create({baseURL:"https://kwitter-api.herokuapp.com/",timeout:3e4,headers:{Authorization:"Bearer ".concat(b())}});t.interceptors.request.use((function(e){return Object(m.a)({},e,{headers:Object(m.a)({},e.headers,{Authorization:"Bearer ".concat(b())})})}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)})),this.axiosInstance=t}return Object(h.a)(e,[{key:"profile",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/users/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"putPhoto",value:function(){var e=Object(d.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.put("/users/".concat(t,"/picture"),a);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getPhoto",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/users/".concat(t,"/picture"));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserList",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/users?limit=100&offset=0");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.displayName,n=t.password,e.prev=1,e.next=4,this.axiosInstance.post("/users",{username:a,displayName:r,password:n});case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),v(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.delete("/users/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addLike",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.post("/likes",{messageId:t});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeLike",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.delete("/likes/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),v(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,e.prev=1,e.next=4,this.axiosInstance.post("/auth/login",{username:a,password:r});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),v(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/auth/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),v(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/messages");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),v(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"createMessage",value:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.text,e.prev=1,e.next=4,this.axiosInstance.post("/messages",{text:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),v(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useGoogleLogin",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/auth/google/login");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),v(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),O="AUTH/LOGIN",w=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:O}),t.next=4,y.login(e);case 4:n=t.sent,a({type:"AUTH/LOGIN_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"AUTH/LOGIN_FAILURE",payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},k={login:w,loginGoogle:function(e){return{type:"AUTH/GOOGLE_LOGIN_SUCCESS",payload:e}}},S=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading,error:e.auth.error}}),k),x=a(17),j=a(21),L=(a(84),S((function(e){var t=e.login,a=e.loginGoogle,c=e.loading,s=e.error,o=Object(r.useState)({username:"",password:""}),u=Object(j.a)(o,2),i=u[0],A=u[1],p=function(e){var t=e.target.name,a=e.target.value;A((function(e){return Object(m.a)({},e,Object(x.a)({},t,a))}))},d=function(){A({username:"",password:""})};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{id:"login-form",onSubmit:function(e){e.preventDefault(),e.target.reset(),t(i),d()}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",name:"username",placeholder:"username",autoComplete:"username",value:i.username,autoFocus:!0,required:!0,onChange:p,className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",name:"password",placeholder:"password",autoComplete:"current-password",value:i.password,required:!0,onChange:p,className:"form-control",id:"exampleInputPassword1"})),n.a.createElement("button",{type:"submit",disabled:c,className:"btn btn-primary",id:"login-button"},"Login"),n.a.createElement("button",{onClick:function(){var e=window.open("https://kwitter-api.herokuapp.com/auth/google/login","_blank");e.window.opener.onmessage=function(t){e.close(),t&&t.data&&t.data.token&&a(t.data)}}},"Login using Google")),c&&n.a.createElement(l,null),s&&n.a.createElement("p",{style:{color:"red"}},s.message))}))),I={logout:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.logout();case 3:return e.prev=3,t({type:"AUTH/LOGOUT"}),localStorage.clear(),e.finish(3);case 7:case"end":return e.stop()}}),e,null,[[0,,3,7]])})));return function(t,a){return e.apply(this,arguments)}}()}},C=Object(s.b)((function(e){return{isAuthenticated:!!e.auth.isAuthenticated}}),I),U=a(9),N=(a(85),a(49)),R=a.n(N),T=function(e){var t=e.isAuthenticated,a=e.logout;return n.a.createElement("div",{id:"menu"},n.a.createElement("img",{id:"KwitterLogo",src:R.a,alt:"KwitterLogo"}),t&&n.a.createElement("div",{id:"menu-links"},n.a.createElement(U.b,{to:"/profiles/:username"},"Home"),n.a.createElement(U.b,{to:"/messages"},"Message Feed"),n.a.createElement(U.b,{to:"/",onClick:a},"Logout")))};T.defaultProps={isAuthenticated:!1,logout:function(){}};var M=C(T),F=a(4),D=(a(23),function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement("div",{className:"title"},n.a.createElement("h5",null,"Your favorite microblogging platform")),n.a.createElement(L,null),n.a.createElement(U.b,{to:"/register",className:"link"},"Register New User"))}),G=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement("div",{id:"profileAndUserList"},n.a.createElement("div",{id:"profileContainer"},n.a.createElement(de,null)),n.a.createElement("div",{id:"userListContainer"},n.a.createElement(ve,null))))},P=function(e){var t=e.location;return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Page not found for ",t.pathname),n.a.createElement(U.b,{to:"/"},"Go Home"))},B=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement("div",{className:"title"},n.a.createElement("h5",null,"Register New User")),n.a.createElement(J,null),n.a.createElement(U.b,{to:"/",className:"link"},"Home"))},K=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement("div",{id:"maybe"},n.a.createElement(he,null),n.a.createElement(ne,null)))},_=a(56);function V(e){var t=e.isProtected,a=e.redirectIfAuthenticated,r=e.component,c=Object(_.a)(e,["isProtected","redirectIfAuthenticated","component"]);if(!r)throw new Error("ConnectedRoute MUST have a prop named 'component'");var o=Object(s.c)((function(e){return{username:e.auth.username,isAuthenticated:e.auth.isAuthenticated}})),u=o.isAuthenticated,i=o.username;return a&&u?n.a.createElement(F.b,Object.assign({},c,{render:function(e){var t=e.location;return n.a.createElement(F.a,{to:{pathname:"/profiles/".concat(i),state:{from:t}}})}})):null===t||t&&u?n.a.createElement(F.b,Object.assign({},c,{render:function(e){return n.a.createElement(r,e)}})):n.a.createElement(F.b,Object.assign({},c,{render:function(e){var t=e.location;return n.a.createElement(F.a,{to:{pathname:"/",state:{from:t}}})}}))}V.defaultProps={isProtected:null};var z=function(){return n.a.createElement(U.a,null,n.a.createElement(F.d,null,n.a.createElement(V,{exact:!0,path:"/",redirectIfAuthenticated:!0,component:D}),n.a.createElement(V,{exact:!0,isProtected:!0,path:"/profiles/:username",component:G}),n.a.createElement(V,{exact:!0,path:"/messages",component:K}),n.a.createElement(V,{exact:!0,path:"/register",component:B}),n.a.createElement(V,{path:"*",component:P})))},H={addUser:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ADDUSER"}),t.next=4,y.addUser(e);case 4:n=t.sent,a({type:"ADDUSER_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ADDUSER_FAILURE",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}},Q=Object(s.b)((function(e){return{loading:e.users.loading,error:e.users.error}}),H),J=(a(87),Q((function(e){var t=e.addUser,a=e.loading,c=e.error,s=Object(r.useState)({username:"",displayName:"",password:""}),o=Object(j.a)(s,2),u=o[0],i=o[1],A=function(){i({username:"",displayName:"",password:""})},p=function(e){var t=e.target.name,a=e.target.value;i((function(e){return Object(m.a)({},e,Object(x.a)({},t,a))}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{id:"add-user",onSubmit:function(e){e.preventDefault(),t(u),A()}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",name:"username",placeholder:"username",autoComplete:"username",value:u.username,autoFocus:!0,required:!0,onChange:p,className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"displayName"},"Display Name"),n.a.createElement("input",{type:"text",name:"displayName",placeholder:"display name",autoComplete:"name",value:u.displayName,autoFocus:!0,required:!0,onChange:p,className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",name:"password",placeholder:"password",autoComplete:"current-password",value:u.password,required:!0,onChange:p,className:"form-control",id:"exampleInputPassword1"})),n.a.createElement("button",{type:"submit",disabled:a,className:"btn btn-primary",id:"register-button"},"Register"),a&&n.a.createElement(l,null)),c&&n.a.createElement("p",{style:{color:"red"}},c.message))}))),W=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getMessages();case 3:r=e.sent,t({type:"GET_LIST_MESSAGES",payload:r}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},q=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t,a){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PROFILE_PENDING"}),r=a().auth.username,e.next=5,y.profile(r);case 5:n=e.sent,t({type:"PROFILE_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PROFILE_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},Y={getMessagesFeed:W,addLike:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().auth.username,t.prev=1,a({type:"ADD_LIKES"}),t.next=5,y.addLike(e,n);case 5:c=t.sent,a({type:"ADD_LIKES_SUCCESS",payload:c}),a(W()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"ADD_LIKES_FAILURE",err:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"REMOVE_LIKES"}),t.next=4,y.removeLike(e);case 4:n=t.sent,a({type:"REMOVE_LIKES_SUCCESS",payload:n}),a(W()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"REMOVE_LIKES_FAILURE",err:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}},X=Object(s.b)((function(e){return{messages:e.messages.messages,loggedInUser:e.auth.username}}),Y),Z=a(18),$=a(19),ee=a(27),te=a(50),ae=a.n(te),re=function(e){Object($.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleLike=function(t,a,r){var n=r.filter((function(e){return e.username===a}));void 0!==n[0]?e.props.removeLike(n[0].id):e.props.addLike(t)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.text,r=t.username,c=t.id,s=t.loggedInUser;return n.a.createElement("div",{id:"messageCard"},n.a.createElement(ee.a,{id:"CardOne"},n.a.createElement(ee.a.Body,null,n.a.createElement(ee.a.Header,{id:"cardHeader"},n.a.createElement("span",{style:{color:"#1DA1F2"}},"@"),r),n.a.createElement("br",null),n.a.createElement("p",{id:"input"},a),n.a.createElement("img",{id:"likeButton",onClick:function(){return e.handleLike(c,s,e.props.likes)},src:ae.a,alt:"Like Button"})," ",n.a.createElement("br",null),this.props.likesCount," Likes")))}}]),a}(n.a.Component),ne=(a(88),X(function(e){Object($.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={messages:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.getMessagesFeed()}},{key:"render",value:function(){var e=this,t=this.props.messages;return n.a.createElement("span",null,t.map((function(t){return n.a.createElement(re,{username:t.username,key:t.id,text:t.text,loggedInUser:e.props.loggedInUser,likes:t.likes,likesCount:t.likes.length,id:t.id,addLike:e.props.addLike,removeLike:e.props.removeLike})})))}}]),a}(n.a.Component))),ce={profile:q,putPhoto:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PHOTO_PENDING"}),n=r().auth.username,t.next=5,y.putPhoto(n,e);case 5:c=t.sent,a({type:"PHOTO_SUCCESS",payload:c}),a(q()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"PHOTO_FAILURE",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},deleteUser:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETEUSER_PENDING"}),t.next=4,y.deleteUser(e);case 4:n=t.sent,a({type:"DELETEUSER_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"DELETEUSER_FAILURE",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},login:w},se=Object(s.b)((function(e){return{username:e.profile.username,pictureLocation:e.profile.pictureLocation,displayName:e.profile.displayName,about:e.profile.about,googleId:null,createdAt:e.profile.createdAt,updatedAt:e.profile.updatedAt,loading:e.profile.loading,error:e.profile.error}}),ce),oe=(a(89),a(26)),ue=a.n(oe),ie=a(33),le=a.n(ie),Ae=a(51),pe=a.n(Ae),de=se(function(e){Object($.a)(a,e);var t=Object(Z.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=new pe.a;t.append("picture",r.state.picture),r.props.putPhoto(t)},r.handleOnChange=function(e){e.preventDefault(),r.checkImageType(e)&&r.checkImageSize(e)&&r.setState({picture:e.target.files[0]})},r.checkImageSize=function(e){return!(e.target.files[0].size>2e5)||(alert("Image must be smaller than 200KB"),!1)},r.checkImageType=function(e){var t=e.target.files[0];return"image/png"===t.type||"image/jpeg"===t.type||"image/gif"===t.type||(alert("File type must be png, jpeg, or gif"),!1)},r.handleDelete=function(e){e.preventDefault(),r.props.deleteUser(),alert("Your account has been successfully deleted"),r.props.login()},r.state={loading:!0,picture:""},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.profile()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card",id:"profile-card"},n.a.createElement("h3",{className:"card-title",id:"title"},n.a.createElement("svg",{className:"bi bi-person-circle",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"}))," ","Profile"),n.a.createElement("img",{src:this.props.pictureLocation?"https://kwitter-api.herokuapp.com".concat(this.props.pictureLocation):ue.a,className:"card-img-top",id:"profile-image",alt:"profile_image"}),n.a.createElement("form",{id:"photo-form"},n.a.createElement("div",{id:"photo-input"},n.a.createElement("input",{type:"file",id:"myFile",name:"filename2",onChange:this.handleOnChange})),n.a.createElement("div",{className:"mt-3",id:"photo-button"},n.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary",id:"upload-button"},"Upload"," ",n.a.createElement("svg",{className:"bi bi-camera",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M9 5C7.343 5 5 6.343 5 8a4 4 0 0 1 4-4v1z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M14.333 3h-2.015A5.97 5.97 0 0 0 9 2a5.972 5.972 0 0 0-3.318 1H1.667C.747 3 0 3.746 0 4.667v6.666C0 12.253.746 13 1.667 13h4.015c.95.632 2.091 1 3.318 1a5.973 5.973 0 0 0 3.318-1h2.015c.92 0 1.667-.746 1.667-1.667V4.667C16 3.747 15.254 3 14.333 3zM1.5 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM9 13A5 5 0 1 0 9 3a5 5 0 0 0 0 10z"}),n.a.createElement("path",{d:"M2 3a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1z"}))))),n.a.createElement("div",{className:"card-body",id:"card-info"},n.a.createElement("h6",{className:"card-title"},"Username: ",this.props.username," "),n.a.createElement("p",{className:"card-text"},"Display Name:"," ",this.props.displayName?this.props.displayName:""),n.a.createElement("p",{className:"card-text"},"Created on:"," ",this.props.createdAt?le()(this.props.createdAt,"mmmm dS, yyyy"):""),n.a.createElement("p",{className:"card-text"},"Last Updated:"," ",this.props.updatedAt?le()(this.props.updatedAt,"mmmm dS, yyyy"):"")),n.a.createElement("button",{onClick:this.handleDelete,id:"delete-button",type:"button",className:"btn btn-danger"},"Delete Account"," ",n.a.createElement("svg",{className:"bi bi-trash",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})))))}}]),a}(r.Component)),me={createMessage:function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_MESSAGE"}),t.next=4,y.createMessage(e);case 4:n=t.sent,a({type:"CREATE_MESSAGE_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"CREATE_MESSAGE_FAILURE",payload:t.t0.messages});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},getMessagesFeed:W},fe=function(e){var t=e.createMessage,a=e.getMessagesFeed,c=e.loading,s=(e.error,Object(r.useState)({text:""})),o=Object(j.a)(s,2),u=o[0],A=o[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"createMessageContainer"},n.a.createElement("form",{id:"createMessageForm",onSubmit:function(e){e.preventDefault(),t(u),A((function(e){return Object(m.a)({},e,{text:""})})),setTimeout((function(){return a()}),1e3)},style:{}},n.a.createElement(ee.a,{id:"createMessageCard"},n.a.createElement(ee.a.Body,{id:"inputBar"},n.a.createElement(ee.a.Text,null,n.a.createElement("input",{id:"inputField",type:"text",name:"text",placeholder:"Share your thoughts with the world...#goTeamK",value:u.text,onChange:function(e){var t=e.target.name,a=e.target.value;A((function(e){return Object(m.a)({},e,Object(x.a)({},t,a))}))}}),n.a.createElement(i.a,{variant:"primary",type:"submit",disabled:c,id:"postButton"},"Post"),c&&n.a.createElement(l,null)))))))},he=Object(s.b)((function(e){return{error:e.messages.error,loading:e.messages.loading}}),me)(fe),Ee={getUserList:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GETUSERLIST"}),e.next=4,y.getUserList();case 4:a=e.sent,t({type:"GETUSERLIST_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GETUSERLIST_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},ge=Object(s.b)((function(e){return{usersList:e.usersList,loading:e.loading,error:e.error}}),Ee),ve=(a(90),ge(function(e){Object($.a)(a,e);var t=Object(Z.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).handleLoadUsers=function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.next=3,r.props.getUserList();case 3:r.setState({loading:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!1,usersList:[]},r}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.usersList.usersList;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"btn btn-primary",id:"load-button",disabled:this.props.loading,onClick:this.handleLoadUsers},"Load users"),this.state.loading&&n.a.createElement(l,null),n.a.createElement("h3",{id:"list-title"},"User List"),e.map((function(e){return n.a.createElement("div",{key:e.username,className:"card",id:"profile-card"},n.a.createElement("img",{src:e.pictureLocation?"https://kwitter-api.herokuapp.com".concat(e.pictureLocation):ue.a,className:"card-img-top",id:"profile-image",alt:"profile_image"}),n.a.createElement("div",{className:"card-body",id:"card-info"},n.a.createElement("h6",{className:"card-title"},"Username: ",e.username," "),n.a.createElement("p",{className:"card-text"},"Display Name: ",e.displayName)))})),";")}}]),a}(r.Component))),be=a(11),ye=a(34),Oe=a(52),we=a.n(Oe),ke=a(53),Se={isAuthenticated:!1,username:"",loading:!1,error:""},xe={username:"",password:"",displayName:"",loading:!1,error:""},je={pictureLocation:"",username:"",displayName:"",about:"",googleId:null,createdAt:"",updatedAt:"",loading:!1,error:""},Le={loading:!1,error:""},Ie={messages:[],text:""},Ce={usersList:[],loading:!1,error:""},Ue=Object(be.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(m.a)({},Se,{loading:!0});case"AUTH/LOGIN_SUCCESS":var a=t.payload,r=a.username,n=a.token;return Object(m.a)({},Se,{isAuthenticated:n,username:r,loading:!1});case"AUTH/LOGIN_FAILURE":return Object(m.a)({},Se,{error:t.payload,loading:!1});case"AUTH/LOGOUT":return Object(m.a)({},Se);case"AUTH/GOOGLE_LOGIN":return Object(m.a)({},Se,{loading:!0});case"AUTH/GOOGLE_LOGIN_SUCCESS":return Object(m.a)({},Se,{isAuthenticated:t.payload.token,username:t.payload.username,loading:!1});case"AUTH/GOOGLE_LOGIN_FAILURE":return Object(m.a)({},Se,{error:t.payload,loading:!1});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDUSER":return Object(m.a)({},xe,{loading:!0});case"ADDUSER_SUCCESS":var a=t.payload,r=a.username,n=a.displayName,c=a.password;return Object(m.a)({},xe,{username:r,displayName:n,password:c,loading:!1});case"ADDUSER_FAILURE":return Object(m.a)({},xe,{error:t.payload,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_PENDING":return Object(m.a)({},je,{loading:!0});case"PROFILE_SUCCESS":return Object(m.a)({},je,{username:t.payload.user.username,pictureLocation:t.payload.user.pictureLocation,displayName:t.payload.user.displayName,about:t.payload.user.about,googleId:null,createdAt:t.payload.user.createdAt,updatedAt:t.payload.user.updatedAt,loading:!1});case"PROFILE_FAILURE":return Object(m.a)({},je,{error:t.payload,loading:!1});default:return e}},likes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIKES":return Object(m.a)({},e,{loading:!0});case"ADD_LIKES_SUCCESS":return Object(m.a)({},e,{loading:!1});case"ADD_LIKES_FAILURE":return Object(m.a)({},e,{loading:!1,error:t.payload});case"REMOVE_LIKES":return Object(m.a)({},e,{loading:!0});case"REMOVE_LIKES_SUCCESS":return Object(m.a)({},e,{loading:!1});case"REMOVE_LIKES_FAILURE":return Object(m.a)({},e,{loading:!1,error:t.payload});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LIST_MESSAGES":var a=t.payload.messages;return Object(m.a)({},e,{messages:a});case"CREATE_MESSAGE":return Object(m.a)({},e,{loading:!0});case"CREATE_MESSAGE_SUCCESS":var r=t.payload.text;return Object(m.a)({},Ie,{text:r,loading:!1});case"CREATE_MESSAGE_FAILURE":return Object(m.a)({},Ie,{error:t.payload,loading:!1});default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETUSERLIST":return Object(m.a)({},Ce,{loading:!0});case"GETUSERLIST_SUCCESS":return Object(m.a)({},Ce,{usersList:t.payload.users,loading:!1});case"GETUSERLIST_FAILURE":return Object(m.a)({},Ce,{error:t.payload,loading:!1});default:return e}}}),Ne=a(54),Re={key:"root",storage:we.a},Te=Object(ye.a)(Re,Ue);var Me=function(e){var t=Object(be.createStore)(Te,Object(Ne.composeWithDevTools)(Object(be.applyMiddleware)(ke.a)));return{store:t,persistor:Object(ye.b)(t)}}(),Fe=Me.store,De=Me.persistor,Ge={store:Fe,persistor:De};window.KWITTER=Ge;var Pe=function(){return n.a.createElement(s.a,{store:Fe},n.a.createElement(o.a,{loading:null,persistor:De},n.a.createElement(z,null)))};Object(c.render)(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.439c4a2a.chunk.js.map